<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.2.1.min.js"></script>
    
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M"
        crossorigin="anonymous">

    <link href="https://fonts.googleapis.com/css?family=Pacifico|Comfortaa" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" />
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>
    
   
    <script>

        $(document).ready(function() {
            // create matrix rain
            let c = document.querySelector('canvas')
            let ctx = c.getContext('2d')
            class Symbol {
                constructor(x, y, speed){
                    this.x = x
                    this.y = y
                    this.value = String.fromCharCode( 0x30A0 + Math.round(Math.random()*96))//get a random katakana char
                    this.speed = speed
                }
                setToRandomSymbol(){
                    if (Math.random()>0.95){
                        this.value = String.fromCharCode( 0x30A0 + Math.round(Math.random()*96))
                    }
                }
                render(){
                    this.setToRandomSymbol()
                    ctx.font = "bold 25px Calibri"
                    ctx.fillStyle = '#27ae60'
                    ctx.fillText(this.value, this.x, this.y)
                    this.rain()
                }
                rain(){
                    this.y > 700 ? this.y = 0 : this.y += this.speed
                }
            }

            class Stream {
                constructor(){
                    this.symbols = []
                    this.numOfSymbols = Math.floor(Math.random()*(20-5) + 5)
                    this.speed = Math.floor(Math.random()*(10)+5)
                }
                generateSymbols(x, y){
                    for( let i=0; i< this.numOfSymbols; i++){
                        let symbol = new Symbol(x, y, this.speed)
                        symbol.setToRandomSymbol()
                        this.symbols.push(symbol)
                        y -= 30
                    }
                }
                render(){
                    this.symbols.forEach(function(symbol){
                        symbol.render()
                    })
                }
            }
            let x = 0
            let y = - Math.floor(Math.random()*400)
            let streams= []
            for (let i = 0;  i< 46; i++){
                let stream = new Stream()
                stream.generateSymbols(x, y)
                streams.push(stream)
                x += 30
            }

            function draw(){
                let coverHeight = $('.cover').innerHeight()
                let coverWidth = $('.cover').innerWidth()
                $('canvas').attr('width', coverWidth)
                $('canvas').attr('height', coverHeight)
                ctx.fillStyle = 'black'
                ctx.fillRect(0, 0, c.width, c.height)
                streams.forEach(function(stream){
                    stream.render()
                })

            }
            setInterval(function(){
                draw()
            }, 50)
            

            // set background blur when clicking navbar-toggler button and vice versa
            $('.navbar-toggler').click(function(){
                $('.content').toggleClass('blur')
            })
            
            // create smooth scroll on click
            $('a').click(function(event){
                if (this.hash !== ''){
                    event.preventDefault()
                    let hash = this.hash
                    $('html, body').animate({
                        scrollTop: $(hash).offset().top
                    }, 800 )
                }
            })
            // create random animation on scroll
            let $animation_element = $('.will-animate')
            let $window = $(window)

            function checkInView(){
                let windowHeight = $window.height()
                let windowTop = $window.scrollTop()
                let windowBot = windowTop + windowHeight
                let arr = ['fadeIn', 'pulse', 'fadeInLeft', 'flipInX']
                let theAnimation = arr[Math.floor(Math.random()*arr.length)]
                // show up a fixed navbar
                if (windowTop > $('.cover').innerHeight() - 10){
                    $('#nav').slideDown('slow')
                }else{
                    $('#nav').slideUp('fast')
                }

                $.each($animation_element, function(){
                    let $element = $(this)
                    let elementHeight = $element.outerHeight()
                    let elementTop = $element.offset().top 
                    let elementBot = elementHeight + elementTop
                    if (elementBot > windowTop && elementTop < windowBot){
                        $element.addClass('animated')
                        $element.addClass(theAnimation)
                    }else{
                        $element.removeClass('animated')
                        $element.removeClass(theAnimation)
                    }
                })
            }
            $window.on('scroll resize', checkInView)
        })
    </script>
    <style>
        .navbar{
            position: absolute;
            z-index: 2;
            width: 100%;
        }
        .nav-item{
            margin-right: 40px;
            transition-duration: 0.4s;
            font-family: 'Comfortaa', cursive;
            color: white !important;
            
        }
        .nav-item::after{
            content: '';
            display: block;
            height: 2px;
            width: 0px;
            margin: auto;
            background: white;
            transition-duration: 0.8s
        }
        .nav-item:hover::after{
            width: 100%;
        }
        .cover{
            width: 100%;
            height: 100vh;
        }
        .blur-img{
            z-index: 0;
            position: absolute;
            animation: goBLur 10s forwards;
        }
        @keyframes goBLur {
            100%{filter: blur(2px)}
        }
        .content{
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            z-index: 1;
            color: white;
            position: absolute;
            width: 100%;
            height: 100vh;
        }
        .blur{
            filter: blur(5px)
        }
        #down-arrow{
            color: white;
            font-size: 80px;
            bottom: 1%;
            position: absolute;
            animation: flash 1s infinite alternate;
            opacity: 0;
            animation-delay: 1.8s;
        }
        @keyframes flash{
        100%{opacity: 1}
        }
   
        hr{
            border: none;
            width: 150px;
            height: 3px;
            background: black
        }
        .col{
            padding: 10px;
        }
        .will-animate{
            animation-duration: 1.5s;
        }
    </style>
</head>
<body>
    <div class="cover" id='top'>
        <nav class="navbar navbar-expand-sm navbar-dark animated fadeInDown" style="opacity: 0; animation-delay: 5s">
            <a class="navbar-brand" href="#top" style="font-family: 'Pacifico', cursive; font-size: 30px;">Gegiskhan</a>
            <button class="navbar-toggler" type="button" data-toggle='collapse' data-target='.menu' aria-expanded="false">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse menu" style='justify-content: flex-end;'>
               <div class="navbar-nav ">
                   <a href="#skill" class="nav-item nav-link">SKILLS</a>
                   <a href="#port" class="nav-item nav-link">PORTFOLIO</a>
                   <a href="#cont" class="nav-item nav-link">CONTACT</a>
               </div>
            </div>
        </nav>

        <nav id='nav' class="navbar navbar-expand-sm navbar-dark" style="display: none; position: fixed; background: rgba(0, 0, 0, 0.7)">
            <a class="navbar-brand" href="#top" style="font-family: 'Pacifico', cursive; font-size: 30px;">Gegiskhan</a>
            <button class="navbar-toggler" type="button" data-toggle='collapse' data-target='.menu' aria-expanded="false">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse menu" style='justify-content: flex-end;'>
               <div class="navbar-nav ">
                    <a href="#skill" class="nav-item nav-link">SKILLS</a>
                    <a href="#port" class="nav-item nav-link">PORTFOLIO</a>
                    <a href="#cont" class="nav-item nav-link">CONTACT</a>
               </div>
            </div>
        </nav>

        <canvas class="blur-img"></canvas>

        <div class="content animated zoomIn" style="animation-delay: 5s; text-align: center; animation-duration: 2s">
            <h4>Hello, I'm Gegiskhan</h4>
            <h1>A SELF-TAUGHT WEB DEVELOPER</h1>
            <p>from Freecodecamp</p>
            <a id='down-arrow' href="#skill"><i class="fa fa-angle-down" aria-hidden="true"></i></a>
        </div>

    </div>

    <div id="skill" class="text-center" style="background: #eee; padding: 50px;">
        <h2 style="margin-top: 70px">MY SKILLS</h2>
        <hr>
        <h4>Here are my current skills, mostly learned from Freecodecamp</h4>
        <div class="row will-animate" style="margin: 40px">
            <div class="col" >
                <img src="http://icons.iconarchive.com/icons/graphics-vibe/developer/256/html-5-icon.png" alt="" width="110px">
            </div>
            <div class="col">
                <img src="http://icons.iconarchive.com/icons/graphics-vibe/developer/256/css-3-icon.png" alt="" width="110px">
            </div>
            <div class="col">
                <img src="http://icons.iconarchive.com/icons/graphics-vibe/developer/128/javascript-icon.png" alt="" width="110px">
            </div>
        </div>
        
        <div class="row will-animate" style="margin: 40px">
            <div class="col">
                <img src="https://getbootstrap.com/apple-touch-icon.png" alt="" width="110px">
            </div>
            <div class="col">
                <img src="http://blogs.learnnowonline.com/wp-content/uploads/2013/08/jquery1.png" alt="" width="110px">
            </div>
            <div class="col">
                <img src="http://notewrangler.com/img/languages/react-logo.png" alt="" width="110px">
            </div>
        </div>
    </div>

    <div id="port" class="text-center" style="background: #ddd; padding: 50px;">
        <h2 style="margin-top: 70px">MY PROJECTS</h2>
        <hr>
        <h4>Some recent projects of mine</h4>
    </div>





    
</body>

</html>